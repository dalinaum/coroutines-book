# 2장 코틀린 기본 문법

## 2.1 엔트리 포인트

### 코드 2-1: main의 args (args.kt)

`main` 함수는 `args`인자를 받을 수 있다. 이를 활용해보자.

<div class="kotlin-playground" args="코틀린 코루틴 화이팅!">
fun main(args: Array&lt;String&gt;) {
    println("Hello World ${args[0]}")
}
</div>

자신의 컴퓨터에서 실행할 때는 args를 다음과 같이 전달해야 한다.

```sh
kotlinc args.kt -include-runtime -d args.jar
java -jar args.jar 코틀린 코루틴 파이팅
```

## 2.2 함수

### 코드 2-2: 반환 값이 있는 함수 (increment.kt)

함수는 `fun 함수이름(파라미터 리스트): 리턴 타입` 이런 형태로 정의한다.

<div class="kotlin-playground">
fun main() {
    println(increment(3))
}

fun increment(n: Int): Int{
    return n + 1
}
</div>

### 코드 2-3: 표현식 바디 (expression-body.kt)

함수의 바디는 표현식 바디(expression body)로 변경 가능하다.

<div class="kotlin-playground">
fun main() {
    println(increment(3))
}

fun increment(n: Int): Int = n + 1
</div>

### 코드 2-4 반환 타입이 없는 표현식 바디 (expression-body2.kt)

표현식 바디를 쓰는 경우에는 반환 타입이 추론 가능하고 생략할 수 있다.

<div class="kotlin-playground">
fun main() {
    println(increment(3))
}

fun increment(n: Int) = n + 1
</div>

### 코드 2-5 파라미터 두 개 함수 (times.kt)

여러 파라미터를 사용하는 방법은 간단하다. 파라미터 리스트에 파라미터를 여러개를 넣어보자.

<div class="kotlin-playground">
fun main() {
    println(times(3, 4))
}

fun times(a: Int, b: Int) = a * b
</div>

### 코드 2-6 함수를 인자로 전달 (function-arg.kt)

함수를 파라미터로 쓸 때는 `(파라미터 타입들) -> 반환 값`을 타입으로 지정한다.

함수를 전달할 때는 함수 참조 `::`를 함수명 앞에 붙여준다.

<div class="kotlin-playground">
fun main() {
    println(double(6, ::times))
}

fun double(n: Int, f: (Int, Int) -> Int): Int {
    return f(n, 2)
}

fun times(a: Int, b: Int) = a * b
</div>

## 2.3 람다

### 코드 2-7 람다 버전의 times (lambda.kt)

람다는 중괄호 다음에 파라미터 리스트를 적고 오른쪽에 ->를 입력한다.

<div class="kotlin-playground">
fun main() {
    val times: (Int, Int) -> Int = { a, b ->
        a * b
    }
    println(double(6, times))
}

fun double(n: Int, f: (Int, Int) -> Int): Int {
    return f(n, 2)
}
</div>

### 코드 2-8 람다 버전의 times 2 (lambda2.kt)

람다는 중괄호 다음에 파라미터 리스트를 적고 오른쪽에 ->를 입력한다.

<div class="kotlin-playground">
fun main() {
    val times = { a: Int, b: Int ->
        a * b
    }
    println(double(6, times))
}

fun double(n: Int, f: (Int, Int) -> Int): Int {
    return f(n, 2)
}
</div>

### 코드 2-8 람다를 함수 파라미터 (lambda3.kt)

람다를 파라미터에 직접 전달하자.

<div class="kotlin-playground">
fun main() {
    println(
        double(6, { a: Int, b: Int ->
            a * b
        })
    )
}

fun double(n: Int, f: (Int, Int) -> Int): Int {
    return f(n, 2)
}
</div>

### 코드 2-9 후행 람다 (trailing-lambda.kt)

마지막 파라미터가 람다인 경우 괄호 밖으로 람다를 뺼 수 있다.

<div class="kotlin-playground">
fun main() {
    println(
        double(6) { a: Int, b: Int ->
            a * b
        }
    )
}

fun double(n: Int, f: (Int, Int) -> Int): Int {
    return f(n, 2)
}
</div>

### 코드 2-10 람다를 반환 (hello-lambda.kt)

반환 값으로 람다를 리턴할 수 있다.

<div class="kotlin-playground">
fun main() {
    println(hello()("코틀린"))
}

fun hello(): (String) -> String {
    return { name ->
        "Hello $name"
    }
}
</div>

### 코드 2-11 클로저 (closure.kt)

람다는 호출 측의 데이터를 참조할 수 있다.

<div class="kotlin-playground">
fun main() {
    println(say("안녕")("코틀린"))
}

fun say(greeting: String): (String) -> String {
    return { name ->
        "$greeting $name"
    }
}
</div>

### 코드 2-12 파라미터 기본 값 (default-value.kt)

파라미터의 기본 값을 지정할 수 있다. "안녕"을 출력할 가능성이 높아 기본값으로 지정해보자.

<div class="kotlin-playground">
fun main() {
    println(say()("코틀린"))
}

fun say(greeting: String = "안녕"): (String) -> String {
    return { name ->
        "$greeting $name"
    }
}
</div>

### 코드 2-13 파라미터를 일부만 지정 (partial-parameter)

add의 파라미터 a, b는 기본 값을 가지고 있고 파라미터를 하나만 전달하면 a에 먼저 적용된다.

<div class="kotlin-playground">
fun main() {
    println(add(1))
}

fun add(a: Int = 2, b: Int = 1) = a + b
</div>