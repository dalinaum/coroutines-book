# 3장 코틀린의 제어흐름

## 3.1 if 표현식

### 코드 3-1: if 표현식 (if-expression.kt)

코틀린의 if는 표현식이라서 값을 바로 이용할 수 있다.

<div class="kotlin-playground">
fun main() {
    val situation = true
    val condition = if (situation) "Nice" else "Bad"
    println("condtion: $condition")
}
</div>

### 코드 3-2: if 식인것 처럼 (if-like-statment.kt)

if가 표현식이 아니라 생각하고 <코드 2-58>을 재작성하였다.

<div class="kotlin-playground">
fun main() {
    val situation = true
    var condition: String?
    if (situation) 
        condition = "Nice"
    else
        condition = "Bad"
    println("condtion: $condition")
}
</div>

### 코드 3-3: if 식인것 처럼 (if-like-statment.kt)

if가 표현식이 아니라 생각하고 <코드 3-2>을 재작성하였다.

<div class="kotlin-playground">
fun main() {
    val situation = true
    var condition: String?
    if (situation) 
        condition = "Nice"
    else
        condition = "Bad"
    println("condtion: $condition")
}
</div>

### 코드 3-4: if else (if-else.kt)

if와 else를 표현식에 사용할 수 있다. if와 else를 블록으로도 구성할 수 있다.

<div class="kotlin-playground">
fun main() {
    val score = 80
    val grade = if (score >= 90) {
        "A"
    } else if (score >= 80) {
        "B"
    } else {
        "C"
    }
    println("grade: $grade")
}
</div>

### 코드 3-4: if else (if-else.kt)

if와 else를 표현식에 사용할 수 있다. if와 else를 블록으로도 구성할 수 있다.

<div class="kotlin-playground">
fun main() {
    val score = 80
    val grade = if (score >= 90) {
        "A"
    } else if (score >= 80) {
        "B"
    } else {
        "C"
    }
    println("grade: $grade")
}
</div>

### 코드 3-5: 값을 전달하기 전에 다른 일을 하는 if (if-else2.kt)

"A", "B", "C"라는 값을 전달하기 전에 다른 일을 할 수 있다.

<div class="kotlin-playground">
fun main() {
    val score = 80
    val grade = if (score >= 90) {
        println("열심히 공부를 했네요.")
        "A"
    } else if (score >= 80) {
        println("조금 더 노력하세요.")
        "B"
    } else {
        println("분발하세요.")
        "C"
    }
    println("grade: $grade")
}
</div>

## 3.2 When 표현식

### 코드 3-6: when (when.kt)

C언어나 Java의 switch, case같은 when이 있다.

<div class="kotlin-playground">
fun main() {
    val grade = "A"
    when (grade) {
        "A" -> println("열심히 공부를 했네요.")
        "B" -> println("조금 더 노력하세요.")
        else -> {
            println("분발하세요.")
        }
    }
}
</div>

### 코드 3-7: when 표현식 (when2.kt)

when은 표현식이니 이를 이용해 대입, 리턴, 파라미터에 이용할 수 있다.

<div class="kotlin-playground">
fun main() {
    val grade = "A"
    val evaluation = when (grade) {
        "A" -> "열심히 공부를 했네요."
        "B" -> "조금 더 노력하세요."
        else -> {
            "분발하세요."
        }
    }
    println(evaluation)
}
</div>

### 코드 3-8: else가 필요없는 경우의 when (when-wo-else.kt)

모든 케이스가 명확한 경우 when에서 else를 제외할 수 있다. enum class도 한가지 예다.

<div class="kotlin-playground">
fun main() {
    val grade = Grade.A
    val evaluation = when (grade) {
        Grade.A -> "열심히 공부를 했네요."
        Grade.B -> "조금 더 노력하세요."
        Grade.C -> {
            "분발하세요."
        }
        Grade.D -> "노력해야겠는데요."
        Grade.F -> "다시 들어야겠습니다."
    }
    println(evaluation)
}

enum class Grade {
    A, B, C, D, F
}
</div>

### 코드 3-9: else가 필요없는 경우의 when 2 (when-wo-else2.kt)

enum을 뿐 만 아니라 Boolean도 경우의 수가 정해져 있기 때문에 else를 없앨 수 있다.

<div class="kotlin-playground">
fun main() {
    val canFly = true
    val message = when (canFly) {
        false -> "추락합니다."
        true -> "신나게 날아보아요."
    }
    println(message)
}
</div>

### 코드 3-10: 콤마를 사용한 when (when-w-comma.kt)

콤마를 이용해서 여러 항목의 매칭을 묶을 수 있다.

<div class="kotlin-playground">
fun main() {
    val grade = Grade.B
    val evaluation = when (grade) {
        Grade.A, Grade.B -> "열심히 공부를 했네요."
        Grade.C, Grade.D -> {
            "분발하세요."
        }
        Grade.F -> "다시 들어야겠습니다."
    }
    println(evaluation)
}

enum class Grade {
    A, B, C, D, F
}
</div>

### 코드 3-11: 범위를 사용한 when (when-w-range.kt)

범위를 `when`에 사용할 수 있다.

<div class="kotlin-playground">
fun main() {
    val score = 100
    val evaluation = when (score) {
        in 90..100 -> "열심히 공부를 했네요."
        in 80..90 -> {
            "분발하세요."
        }
        else -> "다시 들어야겠습니다."
    }
    println(evaluation)
}
</div>

### 코드 3-12: 파라미터가 없는 when (when-wo-parameter.kt)

범위를 `when`에 사용할 수 있다.

<div class="kotlin-playground">
fun main() {
    val score = 89
    val evaluation = when {
        score > 90 -> "열심히 공부를 했네요."
        score.isOdd() -> "점수가 홀수이네요."
        else -> "다시 들어야겠습니다."
    }
    println(evaluation)
}

fun Int.isOdd() = this % 2 != 0
</div>

### 코드 3-13: capture를 사용한 when (when-w-capture.kt)

파라미터를 변수에 담아둘 수 있다. (capture)

<div class="kotlin-playground">
import kotlin.random.Random

fun main() {
    val evaluation = when (val score = Random.nextInt(0, 100)) {
        in 50..100 -> "열심히 공부를 했네요."
        in 30..50 -> {
            "분발하세요."
        }
        else -> "다시 들어야겠습니다."
    }
    println(evaluation)
}

fun Int.isOdd() = this % 2 != 0
</div>

### 코드 3-14: capture를 사용한 when 2 (when-w-capture2.kt)

캡쳐한 파라미터를 when의 가지에서 사용할 수 있다.

<div class="kotlin-playground">
import kotlin.random.Random

fun main() {
    val evaluation = when (val score = Random.nextInt(0, 100)) {
        in 50..100 -> "열심히 공부를 했네요. ($score)"
        in 30..50 -> {
            "분발하세요. ($score)"
        }
        else -> "다시 들어야겠습니다. ($score)"
    }
    println(evaluation)
}

fun Int.isOdd() = this % 2 != 0
</div>

## 3.3 For 표현식

### 코드 3-15: 범위를 for로 반복 (for-range.kt)

범위에 대해 for를 호출 할 수 있다. ..(rangeTo)는 오름 차순이다.

<div class="kotlin-playground">
fun main() {
    for (i in 1..10) print(i)
}
</div>

### 코드 3-16: downTo를 사용한 for (for-down-to.kt)

내림차순으로 범위를 쓰고 싶을 때는 downTo를 사용한다.

<div class="kotlin-playground">
fun main() {
    for (i in 10 downTo 1) print(i)
}
</div>

### 코드 3-17: for, rangeTo 그리고 step (for-step.kt)

..(rangeTo)와 step을 함께 사용할 수 있다. 몇 단계씩 진행하느냐를 결정한다.

<div class="kotlin-playground">
fun main() {
    for (i in 1..20 step 3) println(i)
}
</div>

### 코드 3-18: for, downTO 그리고 step (for-down-to-step.kt)

downTo에도 step을 쓸 수 있다.

<div class="kotlin-playground">
fun main() {
    for (i in 20 downTo 1 step 3) println(i)
}
</div>

### 코드 3-19: for, range, reversed (for-range-reversed.kt)

범위에 reversed 함수를 적용해 역순으로 해보자.

<div class="kotlin-playground">
fun main() {
    for (i in (1..20 step 3).reversed()) println(i)
}
</div>

### 코드 3-20 인덱스와 값을 같이 (with-index.kt)

for에서 인덱스를 함께 받으려면 withIndex 확장 함수를 사용한다.

<div class="kotlin-playground">
fun main() {
    val aespa = listOf("카리나", "윈터", "지넬", "닝닝")
    for (i in aespa.withIndex()) {
        println(i)
    }
}
</div>

### 코드 3-21 IndexedValue의 값을 출력 (with-index2.kt)

IndexedValue의 index와 value를 출력하자.

<div class="kotlin-playground">
fun main() {
    val aespa = listOf("카리나", "윈터", "지넬", "닝닝")
    for (i in aespa.withIndex()) {
        println("${i.index}: ${i.value}")
    }
}
</div>

### 코드 3-22 with와 비구조화 (with-destruction.kt)

IndexedValue의 index와 value를 출력하자.

<div class="kotlin-playground">
fun main() {
    val aespa = listOf("카리나", "윈터", "지넬", "닝닝")
    for ((index, name) in aespa.withIndex()) {
        println("$index: $name")
    }
}
</div>

## 3.4 While 반복문

### 코드 3-23 while (while.kt)

while은 조건이 참인 동안만 반복한다.

<div class="kotlin-playground">
fun main() {
    var i = 1
    var sum = 0
    while (i <= 10) {
        println(i)
        sum += i
        i++
    }
    println(sum)
}
</div>

### 코드 3-24 do while (do-while.kt)

while은 조건이 참인 동안만 반복한다.

<div class="kotlin-playground">
fun main() {
    var i = 1
    var sum = 0
    do {
        println(i)
        sum += i
        i++
    } while (i <= 10)
    println(sum)
}
</div>

## 3.5 점프 표현식

### 3.5.1 Continue 표현식

#### 코드 3-25 반복문과 continue (continue.kt)

continue를 이용하면 이번 단계의 반복문을 넘어갈 수 있다.

<div class="kotlin-playground">
fun main() {
    for (i in 2..9) {
        for (j in 1..9) {
            if (j % 2 == 0) {
                continue
            }
            println("$i * $j = ${i * j}")
        }
    }
}
</div>

#### 코드 3-26 라벨을 이용한 continue (continue-label.kt)

continue를 이용하면 이번 단계의 반복문을 넘어갈 수 있다.

<div class="kotlin-playground">
fun main() {
    first@ for (i in 2..9) {
        for (j in 1..9) {
            if (i % 2 == 0) {
                continue@first
            }
            println("$i * $j = ${i * j}")
        }
    }
}
</div>

### 3.5.2 Break 표현식

#### 코드 3-27 break (break.kt)

break를 이용하면 반복문을 멈출 수 있다.

<div class="kotlin-playground">
fun main() {
    var i = 1
    var sum = 0

    while (true) {
        sum += i
        println("합계: $sum")
        i += 1
        if (sum >= 100) {
            break
        }
    }
}
</div>

#### 코드 3-28 라벨을 사용한 break (break2.kt)

break에도 라벨을 사용할 수 있다.

<div class="kotlin-playground">
fun main() {
    outer@ for (i in 2..9) {
        for (j in 1..9) {
            if (i == 5) {
                break@outer
            }
            println("$i * $j = ${i * j}")
        }
    }
}
</div>

### 3.5.3 Return 표현식

#### 코드 3-29 컬렉션에 map 적용하기 (map.kt)

<div class="kotlin-playground">
fun main() {
    val list = listOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
    val list2 = list.map { i-> i + 1 }
    println(list2)
}
</div>